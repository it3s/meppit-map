{"version":3,"file":"meppit-map.min.js","sources":["meppit-map.js"],"names":["BaseClass","EditorManager","Map","Popup","counter","getDate","getHash","interpolate","isArray","isNumber","isString","requestJSON","reverseCoordinates","_log","_warn","__hasProp","hasOwnProperty","__extends","child","parent","ctor","this","constructor","key","call","prototype","__super__","window","Meppit","VERSION","data","Object","toString","tpl","obj","replace","a","b","r","char","hash","i","_i","_ref","length","charCodeAt","date","day","month","months","year","yy","Date","getMonth","getYear","log","args","concat","Array","slice","arguments","MEPPIT_SILENCE","console","join","warn","feature","_len","_results","push","reverse","type","geometry","coordinates","features","url","callback","req","XMLHttpRequest","ActiveXObject","_requests","onreadystatechange","readyState","status","JSON","parse","responseText","open","send","cid","name","apply","getOption","_ref1","_ref2","options","defaultOptions","setOption","value","define","_super","map","_initToolbars","_uneditedLayerProps","drawControl","edit","layer","_getLeafletLayer","_currentLayer","done","_currentCallback","_this","_ref3","_backupLayer","editing","enable","dragging","load","draw","cancel","toLowerCase","_drawing","L","Draw","Polygon","leafletMap","Polyline","Marker","once","e","geoJSON","toGeoJSON","properties","disable","_revertLayer","_initEditToolbar","drawnItems","_ensureGeoJsonManager","Control","featureGroup","_addLeafletControl","id","Util","stamp","latlngs","LatLngUtil","cloneLatLngs","getLatLngs","latlng","cloneLatLng","getLatLng","edited","setLatLngs","setLatLng","_ensureLeafletMap","_ensureTileProviders","__defineLeafletDefaultImagePath","selectTileProvider","element","document","createElement","zoom","center","tileProvider","idPropertyName","urlPropertyName","featureURL","geojsonTileURL","enableEditor","enablePopup","enableGeoJsonTile","destroy","remove","layers","getURL","resp","_getLeafletLayers","_removeLeafletLayer","_geoJsonManager","addData","show","fit","get","closePopup","panTo","_ensureEditorManager","_editorManager","openPopup","content","openPopupAt","latLng","_ensurePopupManager","close","bounds","_getBounds","fitBounds","panInsideBounds","provider","tileProviders","addTo","currentTileProvider","clear","clearLayers","leafletLayers","getZoom","setZoom","zoomIn","zoomOut","baseURL","_getBaseURL","_getGeoJSONId","getBounds","extend","latLngBounds","baseDocument","baseElements","getElementsByTagName","href","location","protocol","hostname","port","_getGeoJsonTileURL","getElementById","__getLeafletMapOptions","onEachFeatureCallback","styleCallback","__saveFeatureLayerRelation","__addLayerEventListeners","style","onEachFeature","__geoJsonTileLayer","TileLayer","GeoJSON","clipTiles","unique","_popupManager","PopupManager","_base","_base1","attribution","subdomains","satellite","addControl","_getGeoJSONHash","stringify","removeLayer","__clearLayerEventListeners","on","off","meppitMapRe","path","script","scripts","src","Icon","Default","imagePath","match","split","_createPopup","popupTemplate","getCenter","_popup","setContent","_getContent","openOn","template","popupContent"],"mappings":"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"}